{% extends "base1.html" %}

{% load static %}
{% block header %}
<link rel="stylesheet" type="text/css" href="{% static 'css/detail_common.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'css/detail_layout.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'css/detail_respond.css' %}">
{% endblock%}
{% block contents %}

<style>
  <style type="text/css">.fancybox-margin{margin-right:0px;}</style><meta http-equiv="origin-trial" content="AymqwRC7u88Y4JPvfIF2F37QKylC04248hLCdJAsh8xgOfe/dVJPV3XS3wLFca1ZMVOtnBfVjaCMTVudWM//5g4AAAB7eyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjk1MTY3OTk5LCJpc1RoaXJkUGFydHkiOnRydWV9">
  </style>

  <body>
<div id="content">
  <div class="inner">
    <h2 class="title">ìì„¸íˆ ì•Œì•„ë³´ê¸°</h2>
    
      

<div class="tab-content">
<div id="tab1">
  
<div class="product-list">
			
			
  <ul>
  
    
  
    <li class="item">
      <div class="thumb">
        <div class="img">
          <span>
            <img src="{{tal_detail.img}}" alt="">
          </span>
        </div>
        
      </div>
      
      <dl class="detail">
        <dt>
          <div class="title-area">
          
            <div class="name" onclick="">{{ tal_detail.name }}</div>
          </div>
          
          <div class="label-list">
            <ul>
              <!-- í˜„ì¬ ì „ì²´ ì¢‹ì•„ìš” í•© -->
                <li>â¤ï¸ {{tal_detail.like}}</li>
                <!-- í´ë¦½ë³´ë“œ ì£¼ì†Œ ë³µì‚¬ -->
                <button type="button" class="btn btn-success" id="copyButton" value="{{page_path}}">ğŸ“‹</button>
           
            
            <li class="list-group-item">
                <!-- ì¦ê²¨ì°¾ê¸°ìš© ë¶€ë¶„ -->
                <form action="/favorite/create" method="POST">
                    {% csrf_token %}                    
                    {% for field in form %}
                    <div class="form-group">
                        <input type="{{ field.field.widget.input_type }}" class="form-control" 
                        id="{{ field.id_for_label }}"  placeholder="{{ field.label }}" name="{{ field.name }}" 
                        value="{% if field.name == 'like' %}{{ '1' }}{% else %}{{tal_detail.id}}{% endif %}"/> 
                    </div>                       
                        {% if field.errors %}
                        <span style="color: red">{{ field.errors }}</span>
                        {% endif %}
                    
                    {% endfor %}                    
                    {% if search.like == 1 %}
                    <button type="submit" class="btn btn-warning">ğŸ’”</button>
                    {% else %}
                    <button type="submit" class="btn btn-primary">â¤ï¸</button>
                    {% endif %}

                    
                </form>
                <!-- ì¦ê²¨ì°¾ê¸°ìš© ë¶€ë¶„ ë-->
                
              </li>
           
    </li>
              
            </ul>
          </div>
        </dt>


        <dd>
          <ul>
            <li>
              <div class="subject">ì œì¡°ì‚¬</div>
              <div class="info">{{ tal_detail.company }}</div>
            </li>
            <li>
              <div class="subject">ì£¼ì›ë£Œ</div>
              <div class="info"> {{ tal_detail.mtrl }}</div>
            </li>
            <li>
              <div class="subject">ìš©ëŸ‰/ë„ìˆ˜</div>
              <div class="info">  {{ tal_detail.std }} </div>
            </li>
            <li>
              <div class="subject">ì œí’ˆíŠ¹ì§•</div>
              <div class="info no-line">
                <span class="el-3line">
                  {{ tal_detail.dsc }}
                </span>
              </div>
            </li>
          </ul>
        </dd>
      </dl>
    </li>
  

  </ul>
  
</div>

<div class="aside" style="top: 100px; margin-left: -50px;">
  <ul>
      <li>
          {{ graph_html | safe }} 
      </li>
  </ul>
</div>


<div class="product-list">
<h5>&#35; ëŒ“ê¸€</h5><br/>
<li class="item">
  <div class="thumb">
    <div class="img">
      <span>
        {% for comment in comments_graph %}
        <td style="height: 350px;">{{ comment | safe }}</td>  
        {% endfor %} 
      </span>
    </div>
    
  </div>
  
  <dl class="detail">
    <dt>
      <div class="title-area">
        {% for comment in comments_write %}
        <div class="name" onclick="">{{ comment.name}}</div>
      </div>
      
        
       
</li>
          
        </ul>
      </div>
    </dt>


    <dd>
      <ul>
        <li>
          <div class="subject">ëŒ“ê¸€ ë‚´ìš©</div>
          <div class="info">{{ comment.body }}</div>
        </li>
        
        </li>
      </ul>
    </dd>
  </dl>
</li>
{% endfor %}

</ul>

</div>

</div>



<!-- ëŒ“ê¸€ ì „ì²´ ë‚´ìš© -->
<div class="row mt-5">
  <div class="col-12">
      <div class="comment">
      <h5>&#35; ëŒ“ê¸€</h5><br/>
      <!-- ì§ë ¬ë¡œ forë¬¸ ëŒë¦¼(í˜ì´ì§€ë„¤ì´í„° ì‘ë™í•˜ê³  ë†’ì´ ì¡°ì ˆ ì´ìŠˆ ìˆìŒ.) -->
      <div class="table-container">
          <div class="table">
              <table>
                  <tr>
                      <th>ê·¸ë˜í”„</th>
                  </tr>
                  {% for comment in comments_graph %}
                  <tr>    
                      <td style="height: 350px;">{{ comment | safe }}</td>    
                  </tr>
                  {% endfor %}
              </table>
          </div>
          
          <div class="table">
              <table>
                  <tr>
                      <th>ì½”ë©˜íŠ¸</th>
                  </tr>
                  {% for comment in comments_write %}
                  <tr>
                      <td style="height: 350px;">{{ comment.name }}: {{ comment.body }}</td>
                  </tr>
                  {% endfor %}
              </table>
          </div>
        </div>   

      </div>        
  </div>
</div>
<hr/>
<div>



<!-- Pagination -->
{% if comments_write.has_other_pages %}
  <nav aria-label="Comment navigation">
    <ul class="pagination justify-content-center">
      {% if comments_write.has_previous %}
        <li class="page-item">
          <a class="page-link" href="?page=1" aria-label="First">
            <span aria-hidden="true">&laquo;&laquo;</span>
          </a>
        </li>
        <li class="page-item">
          <a class="page-link" href="?page={{ comments_write.previous_page_number }}" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
      {% endif %}

      {% for page in comments_write.paginator.page_range %}
        <li class="page-item {% if page == comments_write.number %}active{% endif %}">
          <a class="page-link" href="?page={{ page }}">{{ page }}</a>
        </li>
      {% endfor %}

      {% if comments_write.has_next %}
        <li class="page-item">
          <a class="page-link" href="?page={{ comments_write.next_page_number }}" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
        <li class="page-item">
          <a class="page-link" href="?page={{ comments_write.paginator.num_pages }}" aria-label="Last">
            <span aria-hidden="true">&raquo;&raquo;</span>
          </a>
        </li>
      {% endif %}
    </ul>
  </nav>
{% endif %}
</div>
<!-- ëŒ“ê¸€ ì‘ì„± í¼ -->
<div class="row mt-5">
    <div class="col-12">
        <h3>Add a Comment</h3>
        <form method="POST">
            {% csrf_token %}
            {{comment_form.as_p}}
            <!-- models.py ë°ì´í„°ë² ì´ìŠ¤(comment)ì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¡œ, forms.pyë¥¼ ê±°ì³ nameê³¼ bodyí•„ë“œë¥¼ píƒœê·¸ë¡œ ê°ì‹¸ì„œ ì¶œë ¥  -->
            <button type="submit" class="btn btn-primary">ëŒ“ê¸€ì‘ì„±</button>
        </form>
    </div>
</div>

<script>
    document.getElementById("copyButton").addEventListener("click", function() {
        // Get the value from the button's 'value' attribute
        var pagePath = this.value;

        // Create a temporary input element to hold the text
        var tempInput = document.createElement("input");
        tempInput.value = pagePath;

        // Append the input element to the body
        document.body.appendChild(tempInput);

        // Select the text inside the input element
        tempInput.select();

        // Copy the selected text to the clipboard
        document.execCommand("copy");

        // Remove the temporary input element
        document.body.removeChild(tempInput);

        // Optionally, provide feedback to the user
        alert("í˜„ì¬ í˜ì´ì§€ì˜ ì£¼ì†Œê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n" + "ì£¼ì†Œ: "+ pagePath);
    });
</script>
{% endblock %}




{% comment %} 
{% extends "base.html" %}
{% load humanize %}
{% block contents %}
<style>
    .table-container {
        display: flex;
        justify-content: space-between;
    }  
  </style>

<div class="row mt-5">
    <div class="col-12">
        <div class="card" style="width: 100%;">
            <div class="card-body">
                <h5 class="card-title">{{ tal_detail.name }}</h5>
                <!-- í˜„ì¬ ì „ì²´ ì¢‹ì•„ìš” í•© -->
                <div>â¤ï¸ {{tal_detail.like}}</div>
                <!-- í´ë¦½ë³´ë“œ ì£¼ì†Œ ë³µì‚¬ -->
                <button type="button" class="btn btn-success" id="copyButton" value="{{page_path}}">ğŸ“‹</button>
            </div>
            
            <li class="list-group-item">
                <!-- ì¦ê²¨ì°¾ê¸°ìš© ë¶€ë¶„ -->
                <form action="/favorite/create" method="POST">
                    {% csrf_token %}                    
                    {% for field in form %}
                    <div class="form-group">
                        <input type="{{ field.field.widget.input_type }}" class="form-control" 
                        id="{{ field.id_for_label }}"  placeholder="{{ field.label }}" name="{{ field.name }}" 
                        value="{% if field.name == 'like' %}{{ '1' }}{% else %}{{tal_detail.id}}{% endif %}"/> 
                    </div>                       
                        {% if field.errors %}
                        <span style="color: red">{{ field.errors }}</span>
                        {% endif %}
                    
                    {% endfor %}                    
                    {% if search.like == 1 %}
                    <button type="submit" class="btn btn-warning">ğŸ’”</button>
                    {% else %}
                    <button type="submit" class="btn btn-primary">â¤ï¸</button>
                    {% endif %}
                </form>
                <!-- ì¦ê²¨ì°¾ê¸°ìš© ë¶€ë¶„ ë-->
            </li>
            <!-- ìƒì„¸ì„¤ëª… ë¶€ë¶„ -->
            <ul class="list-group list-group-flush">
                <li class="list-group-item">ì œì¡°ì‚¬: {{ tal_detail.company }}</li>
                <li class="list-group-item">ì›ì¬ë£Œ: {{ tal_detail.mtrl }}</li>
                <li class="list-group-item">ìš©ëŸ‰/ë„ìˆ˜: {{ tal_detail.std }}</li>
                <li class="list-group-item">ìƒì„¸ì„¤ëª…: {{ tal_detail.dsc }}</li>        
                <li class="list-group-item"><img src="{{tal_detail.img}}" alt=""></li>                       
            </ul>
            <!-- ìƒì„¸ì„¤ëª… í‰ê· ê·¸ë˜í”„ ë¶€ë¶„ -->
            {{ graph_html | safe }}

        </div>
    </div>
</div>
<hr/>
<!-- ëŒ“ê¸€ ì „ì²´ ë‚´ìš© -->
<div class="row mt-5">
    <div class="col-12">
        <div class="comment">
        <h5>&#35; ëŒ“ê¸€</h5><br/>
        <!-- ì§ë ¬ë¡œ forë¬¸ ëŒë¦¼(í˜ì´ì§€ë„¤ì´í„° ì‘ë™í•˜ê³  ë†’ì´ ì¡°ì ˆ ì´ìŠˆ ìˆìŒ.) -->
        <div class="table-container">
            <div class="table">
                <table>
                    <tr>
                        <th>ê·¸ë˜í”„</th>
                    </tr>
                    {% for comment in comments_graph %}
                    <tr>    
                        <td style="height: 350px;">{{ comment | safe }}</td>    
                    </tr>
                    {% endfor %}
                </table>
            </div>
            
            <div class="table">
                <table>
                    <tr>
                        <th>ì½”ë©˜íŠ¸</th>
                    </tr>
                    {% for comment in comments_write %}
                    <tr>
                        <td style="height: 350px;">{{ comment.name }}: {{ comment.body }}</td>
                    </tr>
                    {% endfor %}
                </table>
            </div>
          </div>   

        </div>        
    </div>
</div>
<hr/>
<div>
<!-- Pagination -->
{% if comments_write.has_other_pages %}
  <nav aria-label="Comment navigation">
    <ul class="pagination justify-content-center">
      {% if comments_write.has_previous %}
        <li class="page-item">
          <a class="page-link" href="?page=1" aria-label="First">
            <span aria-hidden="true">&laquo;&laquo;</span>
          </a>
        </li>
        <li class="page-item">
          <a class="page-link" href="?page={{ comments_write.previous_page_number }}" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
      {% endif %}

      {% for page in comments_write.paginator.page_range %}
        <li class="page-item {% if page == comments_write.number %}active{% endif %}">
          <a class="page-link" href="?page={{ page }}">{{ page }}</a>
        </li>
      {% endfor %}

      {% if comments_write.has_next %}
        <li class="page-item">
          <a class="page-link" href="?page={{ comments_write.next_page_number }}" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
        <li class="page-item">
          <a class="page-link" href="?page={{ comments_write.paginator.num_pages }}" aria-label="Last">
            <span aria-hidden="true">&raquo;&raquo;</span>
          </a>
        </li>
      {% endif %}
    </ul>
  </nav>
{% endif %}
</div>
<!-- ëŒ“ê¸€ ì‘ì„± í¼ -->
<div class="row mt-5">
    <div class="col-12">
        <h3>Add a Comment</h3>
        <form method="POST">
            {% csrf_token %}
            {{comment_form.as_p}}
            <!-- models.py ë°ì´í„°ë² ì´ìŠ¤(comment)ì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¡œ, forms.pyë¥¼ ê±°ì³ nameê³¼ bodyí•„ë“œë¥¼ píƒœê·¸ë¡œ ê°ì‹¸ì„œ ì¶œë ¥  -->
            <button type="submit" class="btn btn-primary">ëŒ“ê¸€ì‘ì„±</button>
        </form>
    </div>
</div>

<script>
    document.getElementById("copyButton").addEventListener("click", function() {
        // Get the value from the button's 'value' attribute
        var pagePath = this.value;

        // Create a temporary input element to hold the text
        var tempInput = document.createElement("input");
        tempInput.value = pagePath;

        // Append the input element to the body
        document.body.appendChild(tempInput);

        // Select the text inside the input element
        tempInput.select();

        // Copy the selected text to the clipboard
        document.execCommand("copy");

        // Remove the temporary input element
        document.body.removeChild(tempInput);

        // Optionally, provide feedback to the user
        alert("í˜„ì¬ í˜ì´ì§€ì˜ ì£¼ì†Œê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n" + "ì£¼ì†Œ: "+ pagePath);
    });
</script>


{% endblock %} 

{% endcomment %}
